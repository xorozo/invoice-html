<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Invoice</title>
	<style type="text/css">
		table{
			width: 100%;
		  	border-collapse: collapse;

		  	border: 1px solid black;
		}
		th{
			background: #555555;
			color: white;
		  	border: 1px solid black;
		  	height: 22px;
		}
		td {
		  border: 1px solid black;
		  height: 22px;
		  overflow: hidden;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<div style="font-family: Arial;font-size: 15px;width:17cm;height:24cm;margin: auto;">
		<div>
			<table style="height:6cm;text-align: center;font-size: 20px;font-weight: bold;">
				<tr>
					<td contenteditable='true' rowspan="3" style="height: 2cm;width:30%">A</td>
					<td contenteditable='true' rowspan="3" style="height: 2cm;width: 30%;">A</td>
					<td contenteditable='false' style="height: 2cm;width: 20%;">Invoice Facture</td>
				</tr>
				<tr></tr>
				<tr><td contenteditable='true' style="background: darkgray;color:white;height: 1cm;">E</td></tr>
				<tr>
					<td contenteditable='true' rowspan="3" style="height: 2cm;">A</td>
					<td contenteditable='true' rowspan="3" style="height: 2cm;">A</td>
					<td contenteditable='false' rowspan="2" style="height: 2cm;">Date</td>
				</tr>
				<tr></tr>
				<tr><td contenteditable='false' style="height: 1cm;"><input type="date" style="width: 100%;height: 100%;border: none;" /></td></tr>
			</table>
		</div>
		<div style="margin-top: 2px;height: 14cm;">
			<table id="second">
				<tr>
					<th style="width:100px;">ID</th>
					<th style="width:50%;">DESCRIPTION</th>
					<th style="width:10%;">QTY</th>
					<th style="width:20%;">S-TOTAL</th>
				</tr>	
				
			</table>
		</div>
		<div style="display: flex;border-top: 1px solid black;margin-top: 23px;">
			<table style="text-align: right;height: 3cm;font-weight:bold;">
				<tr>
					<td rowspan="4" style="width:50%;"></td>
					<td style="width:25%;">Sub-TOTAL:</td>
					<td contenteditable='true' id="stotal">0</td>
				</tr>
				<tr>
					<td>Tax 1:</td>
					<td contenteditable='true' id="stotal1">0</td>
				</tr>
				<tr>
					<td>Tax 2:</td>
					<td contenteditable='true' id="stotal2">0</td>
				</tr>
				<tr>
					<td>TOTAL:</td>
					<td contenteditable='true' id="grand">0</td>
				</tr>
			</table>
		</div>	
	</div>

</body>
<script type="text/javascript">
	$(document).ready(function () {
		for(let i = 0; i < 21; i++){
			$('#second').append('<tr>'+
					'<td contenteditable="true" onkeyup="row_total('+i+')" id="id'+i+'"></td>'+
					'<td contenteditable="true"></td>'+
					'<td contenteditable="true" onkeyup="row_total('+i+')" class="row'+i+'" id="qty'+i+'"></td>'+
					'<td contenteditable="true" onkeyup="get_total()" id="total'+i+'"></td>'+
				'</tr>');
		}
		
	});

	function row_total(i){
		console.log($('#qty'+1).text());
		let num1 = $('#id'+i).text() == ''?0:parseInt($('#id'+i).text());
		let num2 = $('#qty'+i).text() == ''?0:parseInt($('#qty'+i).text());
		console.log('sum',(num1+num2));
		$('#total'+i).text((num1*num2).toFixed(2)+"");
		get_total();
	};

	function get_total(){
		let sum = 0;
		for(let i = 0; i < 21; i++){
			let total = parseInt(document.getElementById('total'+i).innerText);
			console.log(total);
			sum += (Number.isNaN(total) ? 0: total);
		}
		document.getElementById('stotal').innerText = sum.toFixed(2) + "";
		document.getElementById('stotal1').innerText = (sum/20.0).toFixed(2) + "";
		document.getElementById('stotal2').innerText = (sum*9.975/100).toFixed(2) + "";
		document.getElementById('grand').innerText = (sum+sum/20.0+sum*9.975/100).toFixed(2) + "";
	}
</script>
</html>